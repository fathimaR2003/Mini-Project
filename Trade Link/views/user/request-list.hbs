<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet">

<div class="rootreq">
    {{#if list}}
    <div class="heading">
        <p style="font-size: 36px; font-weight: 800;">Requested Workers</p>
        <p id="date" style="color: rgb(72, 72, 72);"></p>
    </div>

    <div class="mt-3" style="display: flex; flex-wrap: wrap; justify-content: center; gap: 30px;">
        {{#each list}}
        <div class="card">
            <img class="worker-img" src="/workersimage/{{this.workers.wkid}}.jpg" alt="Worker Image">
            <div class="worker-info">
                <p class="worker-name">{{this.workers.name}}</p>
                <p class="worker-type">{{this.workers.wrktype}}</p>
                <p class="worker-location">{{this.workers.district}}</p>
                <div class="rating">
                    {{#if this.workers.five}} ⭐⭐⭐⭐⭐ {{/if}}
                    {{#if this.workers.four}} ⭐⭐⭐⭐☆ {{/if}}
                    {{#if this.workers.three}} ⭐⭐⭐☆☆ {{/if}}
                    {{#if this.workers.two}} ⭐⭐☆☆☆ {{/if}}
                    {{#if this.workers.one}} ⭐☆☆☆☆ {{/if}}
                </div>
            </div>
            <div class="extra">
                <button class="ex">gd</button>
                <button class="ex">time</button>
                <button class="ex">price</button>
                <button class="ex rating-btn">+&nbsp;{{#if
                    this.workers.rating}}{{this.workers.rating}}{{else}}5{{/if}}</button>
            </div>
            <p class="worker-description">{{this.workers.description}}</p>
            <div class="status-btn">
                {{#if this.status}}
                <button class="rejected-btn">Rejected</button>
                {{else}}
                <button class="waiting-btn">Waiting</button>
                {{/if}}
            </div>
        </div>
        {{/each}}
    </div>

    {{else}}
    <div id="myDiv" class="empty-container"></div>
    {{/if}}
</div>

{{#if list}}
<style>
    .rootreq {
        width: 100%;
        background-image: url(/design/bg_img.png);
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
        background-attachment: fixed;
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 20px;
        padding: 70px 20px 20px;
    }
</style>
{{else}}
<style>
    .rootreq {
        width: 100%;
        background-color: #fff;
        min-height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 70px 20px;
        animation: zoomIn 2s ease-in-out forwards;
    }
</style>
{{/if}}

<style>
    /* General Styles */
    .heading {
        display: flex;
        flex-direction: column;
        align-items: start;
        padding-left: 40px;
        width: 100%;
        height: 90px;
        margin-top: 20px;
    }

    /* Worker Card */
    .card {
        width: 300px;
        text-align: center;
        box-shadow: #a2cfff 0px 3px 11px 0px, #dcf3ff 0px 0px 0px 1px;
        border-radius: 12px;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 17px;
        padding: 20px;
        opacity: 0;
        transform: translateY(30px);
        transition: opacity 0.6s ease-out, transform 0.6s ease-out;
    }

    .card.show {
        opacity: 1;
        transform: translateY(0);
    }

    .worker-img {
        width: 150px;
        height: 150px;
        border-radius: 100%;
    }

    .worker-info {
        display: flex;
        flex-direction: column;
        gap: 6px;
    }

    .worker-name {
        font-weight: 800;
        font-size: 20px;
        font-family: 'Poppins', sans-serif;
        margin: 0;
    }

    .worker-type,
    .worker-location {
        font-size: 15px;
        font-family: 'Poppins', sans-serif;
        margin: 0;
    }

    .worker-location {
        color: #8ee4bb;
    }

    /* Extra Buttons */
    .extra {
        display: flex;
        justify-content: center;
        gap: 11px;
    }

    .ex {
        background-color: #fff;
        padding: 5px 11px;
        border: none;
        box-shadow: rgba(0, 0, 0, 0.05) 0px 6px 24px 0px, rgba(0, 0, 0, 0.08) 0px 0px 0px 1px;
        border-radius: 30px;
    }

    .rating-btn {
        background-color: #007BFF;
        color: #fff;
    }

    .worker-description {
        width: 6.5cm;
        font-size: 13px;
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
        margin: 0;
    }

    /* Status Buttons */
    .status-btn {
        width: 80%;
    }

    .rejected-btn {
        width: 100%;
        padding: 5px;
        background: linear-gradient(90deg, rgb(255, 160, 160), rgb(251, 228, 228));
        border-radius: 12px;
        border: none;
        box-shadow: rgba(0, 0, 0, 0.05) 0px 6px 24px 0px, rgba(0, 0, 0, 0.08) 0px 0px 0px 1px;
    }

    .waiting-btn {
        width: 100%;
        padding: 5px;
        background: linear-gradient(90deg, #3f9afb, #daecff);
        border-radius: 12px;
        border: none;
        box-shadow: rgba(0, 0, 0, 0.05) 0px 6px 24px 0px, rgba(0, 0, 0, 0.08) 0px 0px 0px 1px;
    }

    /* Empty Page Animation */
    @keyframes zoomIn {
        from {
            transform: scale(0.8);
            opacity: 0;
        }

        to {
            transform: scale(1);
            opacity: 1;
        }
    }

    /* Responsive */
    @media screen and (max-width: 768px) {
        .heading p {
            font-size: 28px;
        }

        .worker-description {
            width: 5.5cm;
        }
    }
</style>

{{#if list}}
<script>
    document.getElementById("date").innerHTML = new Date().toDateString();

    window.onload = function () {
        setTimeout(() => {
            const cards = document.querySelectorAll('.card');
            let delay = 0;

            cards.forEach((card) => {
                setTimeout(() => {
                    card.classList.add('show');
                }, delay);
                delay += 150;
            });
        }, 300);
    };
</script>
{{else}}
<script>
    let img = document.createElement("img");
    img.src = "/design/emty.gif";
    img.alt = "No Data";
    img.style.width = "900px";
    document.getElementById("myDiv").appendChild(img);
</script>
{{/if}}